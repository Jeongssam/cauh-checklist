<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¤‘ëŒ€ë¶€ê³  í•™ìƒí‰ê°€ ì—°ìˆ˜ í˜„í™© ì¡°ì‚¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .status-cell { cursor: pointer; transition: background-color 0.2s; }
        .status-cell:hover { background-color: #f3f4f6; }
        .status-cell.locked { cursor: not-allowed; }
        .status-cell.locked:hover { background-color: transparent; }
        .temp-dropdown { min-width: 120px; padding: 4px 8px; border: 1px solid #3b82f6; border-radius: 4px; background-color: white; font-size: 14px; z-index: 10; position: relative; }
    </style>
</head>
<body class="min-h-screen bg-gray-50">
    <div class="max-w-7xl mx-auto p-6">
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
            <div class="flex justify-between items-start mb-4">
                <h1 class="text-2xl font-bold text-gray-900">ì¤‘ëŒ€ë¶€ê³  í•™ìƒí‰ê°€ ê´€ë ¨ ì—°ìˆ˜ ì´ìˆ˜ í˜„í™© ì¡°ì‚¬</h1>
                <div class="flex items-center gap-3">
                    <span id="adminBadge" class="px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800 hidden">ê´€ë¦¬ì ëª¨ë“œ</span>
                    <button id="adminBtn" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm">ê´€ë¦¬ì ë¡œê·¸ì¸</button>
                    <button id="logoutBtn" class="px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm hidden">ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </div>
            <div class="space-y-2 text-sm text-gray-750">
                <div class="flex items-center gap-2"><span>ğŸ“… <strong>ì œì¶œ ê¸°í•œ: 2026.2.2(ì›”)</strong>ê¹Œì§€</span></div>
                <div>âœ… <strong>ì œì¶œ ë‚´ìš©: <span style="text-decoration: underline;">4ë…„ê°„(22í•™ë…„ë„~25í•™ë…„ë„) í•™ìƒí‰ê°€ ê´€ë ¨ ì§ë¬´ì—°ìˆ˜</span></strong>(ì„±ì·¨í‰ê°€, ì„œë…¼ìˆ í˜• í‰ê°€, ê³¼ì •ì¤‘ì‹¬ í‰ê°€, NCS í‰ê°€ ë“± ë‚˜ì´ìŠ¤ ë“±ì¬ëœ ì—°ìˆ˜) <strong>30ì‹œê°„ ì´ìƒ</strong> ì´ìˆ˜ í˜„í™©</div>
                <div>ğŸ‘¥ ì—°ìˆ˜ ëŒ€ìƒ: ê³ ë“±í•™êµ êµì› ì „ì²´(êµì¥, êµê°, ë¹„êµê³¼êµì‚¬, íŠ¹ìˆ˜êµì‚¬, ê¸°ê°„ì œêµì‚¬, íœ´ì§êµì‚¬ ì œì™¸)</div>
                <div class="mt-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                    <div class="text-blue-800 font-medium">ğŸ“ ì•ˆë‚´ì‚¬í•­</div>
                    <div class="text-blue-700 text-sm mt-1">â€¢ 4ë…„ê°„ í•™êµí‰ê°€ ê´€ë ¨ ì—°ìˆ˜ë¥¼ <span style="text-decoration: underline;">30ì‹œê°„ ì´ìƒ ì´ìˆ˜</span>í•˜ì‹  ë¶„ë“¤ê»˜ì„œëŠ” <span style="text-decoration: underline;">2025í•™ë…„ë„ ëª©ë¡</span>ì— <strong>ì™„ë£Œ</strong>ë¥¼ ì…ë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤.<br>â€¢ <span style="text-decoration: underline;">ì „ë…„ë„ ì„¤ë¬¸ì¡°ì‚¬ì—ì„œ ì´ìˆ˜ ê²°ê³¼ë¥¼ ì œì¶œí•˜ì‹  ë¶„ë“¤</span>ì€ ì´ë¯¸ <span style="text-decoration: underline;">ì™„ë£Œë¡œ í‘œì‹œ</span>ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br>â€¢  ë³¸ì¸ì˜ ì—°ìˆ˜ ë‚´ì—­ í™•ì¸ í›„ ìˆ˜ì •ì´ í•„ìš”í•œ ì„ ìƒë‹˜ê»˜ì„œëŠ” í‰ê°€ê³„(ğŸ“291)ë¡œ ì—°ë½ ì£¼ì„¸ìš”<br>â€¢ 2026.02.02. ê¸°ì¤€ìœ¼ë¡œ 2026.02.28.ê¹Œì§€ ì´ìˆ˜ ì˜ˆì •ì´ì‹  ë¶„ë“¤ì€ <strong>ì§„í–‰ì¤‘</strong>ìœ¼ë¡œ í‘œì‹œí•´ ì£¼ì„¸ìš”. ì¶”í›„ êµìœ¡ì²­ ë³´ê³  ì „ ì¬í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.</div>
                </div>
            </div>
        </div>
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
            <div class="flex flex-wrap gap-4 items-center">
                <div class="flex items-center gap-2"><span>ğŸ”</span><input type="text" id="searchInput" placeholder="êµì‚¬ëª… ê²€ìƒ‰..." class="px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></div>
                <div class="flex items-center gap-2"><span>ğŸ“½</span><select id="filterSelect" class="px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"><option value="ì „ì²´">ì „ì²´</option><option value="ì™„ë£Œ">ì™„ë£Œ</option><option value="ë¯¸ì™„ë£Œ">ë¯¸ì™„ë£Œ</option></select></div>
                <button id="statsBtn" class="flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">ğŸ“Š í†µê³„ ë³´ê¸°</button>
                <button id="exportBtn" class="flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors hidden">ğŸ“¥ CSV ë‚´ë³´ë‚´ê¸°</button>
            </div>
            <div id="adminSection" class="flex gap-2 mt-4 p-4 bg-red-50 rounded-lg border-l-4 border-red-500 hidden">
                <div class="flex-1"><p class="text-sm font-medium text-red-800 mb-2">ê´€ë¦¬ì ì „ìš© ê¸°ëŠ¥</p><div class="flex gap-2"><input type="text" id="newTeacherInput" placeholder="ìƒˆ êµì‚¬ ì´ë¦„..." class="px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"><button id="addTeacherBtn" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">êµì‚¬ ì¶”ê°€</button></div></div>
            </div>
        </div>
        <div id="statsPanel" class="bg-white rounded-lg shadow-sm p-6 mb-6 hidden">
            <h2 class="text-lg font-semibold mb-4">ì´ìˆ˜ í˜„í™© í†µê³„</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-gradient-to-br from-blue-50 to-orange-50 p-6 rounded-lg">
                    <div class="text-sm font-semibold text-gray-700 mb-4 text-center">2025í•™ë…„ë„ ì—°ìˆ˜ í˜„í™©</div>
                    <div class="flex items-center justify-center gap-8">
                        <canvas id="mainChart" width="260" height="260"></canvas>
                        <div class="bg-white/90 rounded-lg shadow-md overflow-hidden">
                            <table class="min-w-[180px]">
                                <thead>
                                    <tr class="bg-blue-500">
                                        <th class="px-6 py-3 text-white text-sm font-semibold">êµ¬ë¶„</th>
                                        <th class="px-6 py-3 text-white text-sm font-semibold">ì¸ì›</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-blue-100 bg-blue-50">
                                        <td class="px-6 py-3 text-sm font-medium text-gray-700">ì—°ìˆ˜ëŒ€ìƒ</td>
                                        <td class="px-6 py-3 text-right">
                                            <span class="text-xl font-bold text-blue-600" id="totalStat">37</span>
                                            <span class="text-xs text-gray-500 ml-1">ëª…</span>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-100 hover:bg-green-50 transition-colors">
                                        <td class="px-6 py-2 text-sm text-gray-700 flex items-center gap-2">
                                            <span class="w-3 h-3 bg-green-500 rounded-full"></span>
                                            ì™„ë£Œ
                                        </td>
                                        <td class="px-6 py-2 text-right">
                                            <span class="text-lg font-bold text-green-600" id="completed25Stat">0</span>
                                            <span class="text-xs text-gray-500 ml-1">ëª…</span>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-100 hover:bg-yellow-50 transition-colors">
                                        <td class="px-6 py-2 text-sm text-gray-700 flex items-center gap-2">
                                            <span class="w-3 h-3 bg-yellow-500 rounded-full"></span>
                                            ì§„í–‰ì¤‘
                                        </td>
                                        <td class="px-6 py-2 text-right">
                                            <span class="text-lg font-bold text-yellow-600" id="inProgress25Stat">0</span>
                                            <span class="text-xs text-gray-500 ml-1">ëª…</span>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 transition-colors">
                                        <td class="px-6 py-2 text-sm text-gray-700 flex items-center gap-2">
                                            <span class="w-3 h-3 bg-gray-400 rounded-full"></span>
                                            ë¯¸ì™„ë£Œ
                                        </td>
                                        <td class="px-6 py-2 text-right">
                                            <span class="text-lg font-bold text-gray-600" id="incomplete25Stat">0</span>
                                            <span class="text-xs text-gray-500 ml-1">ëª…</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col justify-center gap-4">
                    <div class="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-500">
                        <div class="text-sm text-purple-600 font-medium mb-3">ğŸ“Š ì°¸ê³ ìë£Œ</div>
                        <div class="space-y-4">
                            <div>
                                <div class="text-xs text-gray-500 mb-1">â€¢ 2024í•™ë…„ë„ ë³¸êµ ì—°ìˆ˜ ì´ìˆ˜ ë‹¬ì„±ìœ¨</div>
                                <div class="flex items-end gap-2">
                                    <div class="text-3xl font-bold text-purple-600" id="rate24Stat">0%</div>
                                    <div class="text-sm text-gray-600 mb-1">(ì „ì²´ 43ëª… ê¸°ì¤€)</div>
                                </div>
                            </div>
                            <div class="border-t border-purple-200 pt-3">
                                <div class="text-xs text-gray-500 mb-2">â€¢ 2025í•™ë…„ë„ ì„œìš¸íŠ¹ë³„ì‹œêµìœ¡ì²­ ì„¤ì • ëª©í‘œ</div>
                                <div class="bg-white p-3 rounded">
                                    <div class="text-sm text-gray-700">âœ“ 4ë…„ê°„(22~25í•™ë…„ë„) í•™ìƒí‰ê°€ ê´€ë ¨ ì—°ìˆ˜ 30ì‹œê°„ ì´ìƒ ì´ìˆ˜ìœ¨ 100% ë‹¬ì„±</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-white rounded-lg shadow-sm overflow-hidden">
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì—°ë²ˆ</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì—°ìˆ˜ëŒ€ìƒ</th>
                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">2024í•™ë…„ë„ ì´ìˆ˜ ì—¬ë¶€<div class="text-xs font-normal text-gray-400 mt-1">(ì¡°ì‚¬ì™„ë£Œ)</div></th>
                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">2025í•™ë…„ë„ ì´ìˆ˜ ì—¬ë¶€<br><div class="text-xs font-normal text-green-600 mt-1">(ì¡°ì‚¬ì¤‘)</div></th>
                            <th id="adminColumn" class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider hidden">ê´€ë¦¬</th>
                        </tr>
                    </thead>
                    <tbody id="teacherTableBody" class="bg-white divide-y divide-gray-200"></tbody>
                </table>
            </div>
        </div>
        <div class="mt-6 text-center text-sm text-gray-500"><span id="teacherCount">ì´ 37ëª…ì˜ êµì‚¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.</span><span id="adminFooter" class="ml-4 text-red-600 hidden">ê´€ë¦¬ì ëª¨ë“œ: êµì‚¬ ì¶”ê°€/ì‚­ì œ, CSV ë‚´ë³´ë‚´ê¸° ê°€ëŠ¥</span></div>
    </div>
    <div id="adminModal" class="fixed inset-0 bg-black bg-opacity-50 items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-sm"><h2 class="text-lg font-bold text-center mb-4">ê´€ë¦¬ì ì¸ì¦</h2><div><input type="password" id="passwordInput" placeholder="ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4"><div class="flex gap-2"><button id="cancelBtn" class="flex-1 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors">ì·¨ì†Œ</button><button id="confirmBtn" class="flex-1 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">í™•ì¸</button></div></div></div>
    </div>
    <script>
        var isAdmin=false,currentEditingCell=null,editingTeacherId=null,editingYear=null;
        var teachers=[{id:1,name:'ê¹€ìƒì² ',status24:'',status25:''},{id:2,name:'ê¹€ìœ ì§„',status24:'',status25:''},{id:3,name:'ê¹€ì§€ìœ¤',status24:'',status25:''},{id:4,name:'ê¹€íƒœì¤€',status24:'',status25:''},{id:5,name:'ê¹€í›„ì •',status24:'',status25:''},{id:6,name:'ë…¸ì´ìš©',status24:'',status25:''},{id:7,name:'ë¥˜ë¦¼í˜¸',status24:'',status25:''},{id:8,name:'ë¥˜ì¸í›„',status24:'',status25:''},{id:9,name:'ë°•ì„ì¬',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:10,name:'ë°•ì€ì •',status24:'',status25:''},{id:11,name:'ë°•ì •ë“',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:12,name:'ë°±ìƒí˜¸',status24:'',status25:''},{id:13,name:'ì„œê²½ì‹ ',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:14,name:'ì†ì™•í—Œ',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:15,name:'ì†¡ë³‘í˜¸',status24:'',status25:''},{id:16,name:'ì†¡ì§„ì„',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:17,name:'ì‹ ë™ì§„',status24:'',status25:''},{id:18,name:'ì‹ ì§€ìœ¤',status24:'',status25:''},{id:19,name:'ì˜¤ìƒìš°',status24:'',status25:''},{id:20,name:'ì´ë™ê·¼',status24:'',status25:''},{id:21,name:'ì´ì„ë¹ˆ',status24:'',status25:''},{id:22,name:'ì´ìŠ¹í™˜',status24:'',status25:''},{id:23,name:'ì´ì›…ìˆ˜',status24:'',status25:''},{id:24,name:'ì´ì€ì£¼',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:25,name:'ì´ì¬ì²­',status24:'',status25:''},{id:26,name:'ì´í˜œì •',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:27,name:'ì„ìˆ˜ì•„',status24:'',status25:''},{id:28,name:'ì „ìŠ¹ì›',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:29,name:'ì •ë‚˜ì€',status24:'',status25:''},{id:30,name:'ì •ì€ì„ ',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:31,name:'ì •í˜•ì§„',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:32,name:'ì¡°í˜„ì§„',status24:'',status25:''},{id:33,name:'ìµœë¯¸ë¥´',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:34,name:'ìµœë¯¸ì—°',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:35,name:'ìµœìŠ¹ë§Œ',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:36,name:'í—ˆì¶©ë²”',status24:'ì™„ë£Œ',status25:'ì™„ë£Œ'},{id:37,name:'í˜•ë³´ìœ¤',status24:'',status25:''}];
        var ADMIN_PASSWORD='0924';
        var elements={adminBtn:document.getElementById('adminBtn'),logoutBtn:document.getElementById('logoutBtn'),adminBadge:document.getElementById('adminBadge'),adminSection:document.getElementById('adminSection'),adminModal:document.getElementById('adminModal'),passwordInput:document.getElementById('passwordInput'),cancelBtn:document.getElementById('cancelBtn'),confirmBtn:document.getElementById('confirmBtn'),searchInput:document.getElementById('searchInput'),filterSelect:document.getElementById('filterSelect'),statsBtn:document.getElementById('statsBtn'),statsPanel:document.getElementById('statsPanel'),exportBtn:document.getElementById('exportBtn'),teacherTableBody:document.getElementById('teacherTableBody'),newTeacherInput:document.getElementById('newTeacherInput'),addTeacherBtn:document.getElementById('addTeacherBtn'),teacherCount:document.getElementById('teacherCount'),adminFooter:document.getElementById('adminFooter'),adminColumn:document.getElementById('adminColumn')};
        
        function setupEventListeners(){elements.adminBtn.addEventListener('click',showAdminModal);elements.logoutBtn.addEventListener('click',logout);elements.confirmBtn.addEventListener('click',handleAdminLogin);elements.cancelBtn.addEventListener('click',hideAdminModal);elements.passwordInput.addEventListener('keypress',function(e){if(e.key==='Enter')handleAdminLogin()});elements.searchInput.addEventListener('input',renderTable);elements.filterSelect.addEventListener('change',renderTable);elements.statsBtn.addEventListener('click',toggleStats);elements.exportBtn.addEventListener('click',exportToCSV);elements.addTeacherBtn.addEventListener('click',addTeacher);elements.newTeacherInput.addEventListener('keypress',function(e){if(e.key==='Enter')addTeacher()});elements.adminModal.addEventListener('click',function(e){if(e.target===elements.adminModal)hideAdminModal()});document.addEventListener('click',function(e){if(currentEditingCell&&!currentEditingCell.contains(e.target))cancelEdit()})}
        
        function showAdminModal(){elements.adminModal.classList.remove('hidden');elements.adminModal.classList.add('flex');elements.passwordInput.focus()}
        function hideAdminModal(){elements.adminModal.classList.add('hidden');elements.adminModal.classList.remove('flex');elements.passwordInput.value=''}
        function handleAdminLogin(){var password=elements.passwordInput.value.trim();if(password===ADMIN_PASSWORD){isAdmin=true;hideAdminModal();updateAdminUI();alert('ê´€ë¦¬ì ë¡œê·¸ì¸ ì„±ê³µ!')}else{alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');elements.passwordInput.value=''}}
        function logout(){isAdmin=false;updateAdminUI()}
        function updateAdminUI(){if(isAdmin){elements.adminBtn.classList.add('hidden');elements.logoutBtn.classList.remove('hidden');elements.adminBadge.classList.remove('hidden');elements.adminSection.classList.remove('hidden');elements.exportBtn.classList.remove('hidden');elements.adminFooter.classList.remove('hidden');elements.adminColumn.classList.remove('hidden')}else{elements.adminBtn.classList.remove('hidden');elements.logoutBtn.classList.add('hidden');elements.adminBadge.classList.add('hidden');elements.adminSection.classList.add('hidden');elements.exportBtn.classList.add('hidden');elements.adminFooter.classList.add('hidden');elements.adminColumn.classList.add('hidden')}renderTable()}
        
        function createStatusBadge(status){if(status==='ì™„ë£Œ')return'<span class="inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 text-sm rounded">âœ“ ì™„ë£Œ</span>';else if(status==='ì§„í–‰ì¤‘')return'<span class="inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 text-sm rounded">âš  ì§„í–‰ì¤‘</span>';else if(status==='ë¯¸ì™„ë£Œ')return'<span class="inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 text-sm rounded">ë¯¸ì™„ë£Œ</span>';return'<span class="text-gray-400 px-2 py-1 rounded">í´ë¦­í•˜ì—¬ ì…ë ¥</span>'}
        
        function cancelEdit(){if(currentEditingCell){currentEditingCell=null;editingTeacherId=null;editingYear=null;renderTable()}}
        
        function saveStatus(teacherId,year,newValue){var teacher=teachers.find(function(t){return t.id===teacherId});if(teacher){teacher[year]=newValue;currentEditingCell=null;editingTeacherId=null;editingYear=null;renderTable();updateStats()}}
        
        function handleStatusClick(teacherId,year,cellElement){var canEdit=year==='status25'||(year==='status24'&&isAdmin);if(!canEdit)return;if(currentEditingCell){cancelEdit();return}var teacher=teachers.find(function(t){return t.id===teacherId});if(!teacher)return;currentEditingCell=cellElement;editingTeacherId=teacherId;editingYear=year;var select=document.createElement('select');select.className='temp-dropdown';var options=[{value:'',text:'-'},{value:'ì™„ë£Œ',text:'ì™„ë£Œ'},{value:'ì§„í–‰ì¤‘',text:'ì§„í–‰ì¤‘'},{value:'ë¯¸ì™„ë£Œ',text:'ë¯¸ì™„ë£Œ'}];for(var i=0;i<options.length;i++){var optionElement=document.createElement('option');optionElement.value=options[i].value;optionElement.textContent=options[i].text;if(options[i].value===teacher[year])optionElement.selected=true;select.appendChild(optionElement)}select.addEventListener('change',function(){saveStatus(teacherId,year,this.value)});select.addEventListener('keydown',function(e){if(e.key==='Escape')cancelEdit();e.stopPropagation()});select.addEventListener('click',function(e){e.stopPropagation()});cellElement.innerHTML='';cellElement.appendChild(select);select.focus()}
        
        function deleteTeacher(teacherId){if(confirm('ì •ë§ ì´ êµì‚¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')){teachers=teachers.filter(function(t){return t.id!==teacherId});renderTable();updateStats()}}
        
        function addTeacher(){var name=elements.newTeacherInput.value.trim();if(name){var maxId=0;for(var i=0;i<teachers.length;i++)if(teachers[i].id>maxId)maxId=teachers[i].id;teachers.push({id:maxId+1,name:name,status24:'',status25:''});elements.newTeacherInput.value='';renderTable();updateStats()}}
        
        function renderTable(){var searchTerm=elements.searchInput.value.toLowerCase();var statusFilter=elements.filterSelect.value;var filteredTeachers=teachers.filter(function(teacher){var matchesSearch=teacher.name.toLowerCase().indexOf(searchTerm)!==-1;if(statusFilter==='ì „ì²´')return matchesSearch;if(statusFilter==='ì™„ë£Œ')return matchesSearch&&teacher.status25==='ì™„ë£Œ';if(statusFilter==='ë¯¸ì™„ë£Œ')return matchesSearch&&teacher.status25!=='ì™„ë£Œ';return matchesSearch});var tbody=elements.teacherTableBody;tbody.innerHTML='';for(var i=0;i<filteredTeachers.length;i++){var teacher=filteredTeachers[i];var row=document.createElement('tr');row.className=i%2===0?'bg-white':'bg-gray-50';var status24Cell=document.createElement('td');status24Cell.className='px-6 py-4 whitespace-nowrap text-center';var status24Div=document.createElement('div');var canEdit24=isAdmin;status24Div.className=canEdit24?'status-cell px-3 py-1 rounded':'status-cell locked px-3 py-1 rounded';if(editingTeacherId!==teacher.id||editingYear!=='status24'){status24Div.innerHTML=teacher.status24?createStatusBadge(teacher.status24):'<span class="text-gray-400 px-2 py-1 rounded">'+(canEdit24?'í´ë¦­í•˜ì—¬ ì…ë ¥':'ì¡°ì‚¬ì™„ë£Œ')+'</span>';if(canEdit24)(function(teacherId,year){status24Div.addEventListener('click',function(e){e.stopPropagation();handleStatusClick(teacherId,year,this)})})(teacher.id,'status24')}else status24Div=currentEditingCell;status24Cell.appendChild(status24Div);var status25Cell=document.createElement('td');status25Cell.className='px-6 py-4 whitespace-nowrap text-center';var status25Div=document.createElement('div');status25Div.className='status-cell px-3 py-1 rounded';if(editingTeacherId!==teacher.id||editingYear!=='status25'){status25Div.innerHTML=teacher.status25?createStatusBadge(teacher.status25):'<span class="text-gray-400 px-2 py-1 rounded">í´ë¦­í•˜ì—¬ ì…ë ¥</span>';(function(teacherId,year){status25Div.addEventListener('click',function(e){e.stopPropagation();handleStatusClick(teacherId,year,this)})})(teacher.id,'status25')}else status25Div=currentEditingCell;status25Cell.appendChild(status25Div);row.innerHTML='<td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">'+teacher.id+'</td>'+'<td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">'+teacher.name+'</td>';row.appendChild(status24Cell);row.appendChild(status25Cell);if(isAdmin){var adminCell=document.createElement('td');adminCell.className='px-6 py-4 whitespace-nowrap text-center';var deleteBtn=document.createElement('button');deleteBtn.innerHTML='ğŸ—‘ï¸';deleteBtn.className='text-red-600 hover:text-red-800 transition-colors text-lg';deleteBtn.title='êµì‚¬ ì‚­ì œ';(function(tId){deleteBtn.addEventListener('click',function(){deleteTeacher(tId)})})(teacher.id);adminCell.appendChild(deleteBtn);row.appendChild(adminCell)}tbody.appendChild(row)}elements.teacherCount.textContent='ì´ '+filteredTeachers.length+'ëª…ì˜ êµì‚¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.'}
        
        function toggleStats(){var isVisible=!elements.statsPanel.classList.contains('hidden');elements.statsPanel.classList.toggle('hidden');elements.statsBtn.textContent=isVisible?'ğŸ“Š í†µê³„ ë³´ê¸°':'ğŸ“Š í†µê³„ ìˆ¨ê¸°ê¸°';if(!isVisible)updateStats()}
        
        function updateStats(){var total=teachers.length,completed24=0,completed25=0,inProgress25=0;for(var i=0;i<teachers.length;i++){if(teachers[i].status24==='ì™„ë£Œ')completed24++;if(teachers[i].status25==='ì™„ë£Œ')completed25++;if(teachers[i].status25==='ì§„í–‰ì¤‘')inProgress25++}var incomplete25=total-completed25-inProgress25;var rate24=Math.round((completed24/43)*100);var rate25=total>0?Math.round((completed25/total)*100):0;document.getElementById('totalStat').textContent=total;document.getElementById('completed25Stat').textContent=completed25;document.getElementById('inProgress25Stat').textContent=inProgress25;document.getElementById('incomplete25Stat').textContent=incomplete25;document.getElementById('rate24Stat').textContent=rate24+'%';drawMainChart(completed25,inProgress25,incomplete25,rate25)}
        
        function drawMainChart(completed,inProgress,incomplete,rate){var canvas=document.getElementById('mainChart');if(!canvas)return;var ctx=canvas.getContext('2d');var centerX=130;var centerY=130;var outerRadius=100;var innerRadius=45;var total=completed+inProgress+incomplete;if(total===0)total=1;ctx.clearRect(0,0,canvas.width,canvas.height);var colors=['#22c55e','#eab308','#9ca3af'];var values=[completed,inProgress,incomplete];var labels=['ì™„ë£Œ','ì§„í–‰ì¤‘','ë¯¸ì™„ë£Œ'];var startAngle=-Math.PI/2;for(var i=0;i<values.length;i++){var sliceAngle=(values[i]/total)*2*Math.PI;if(values[i]>0){ctx.beginPath();ctx.arc(centerX,centerY,outerRadius,startAngle,startAngle+sliceAngle);ctx.arc(centerX,centerY,innerRadius,startAngle+sliceAngle,startAngle,true);ctx.closePath();ctx.fillStyle=colors[i];ctx.fill();var midAngle=startAngle+sliceAngle/2;var labelRadius=outerRadius+20;var labelX=centerX+Math.cos(midAngle)*labelRadius;var labelY=centerY+Math.sin(midAngle)*labelRadius;ctx.fillStyle=colors[i];ctx.font='bold 11px sans-serif';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(labels[i],labelX,labelY)}startAngle+=sliceAngle}ctx.beginPath();ctx.arc(centerX,centerY,innerRadius,0,2*Math.PI);ctx.fillStyle='#ffffff';ctx.fill();ctx.fillStyle='#f97316';ctx.font='bold 42px sans-serif';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(rate+'%',centerX,centerY-5);ctx.fillStyle='#9ca3af';ctx.font='13px sans-serif';ctx.fillText('ì´ìˆ˜ìœ¨',centerX,centerY+22)}
        
        function exportToCSV(){var headers=['ì—°ë²ˆ','êµì‚¬ëª…','24í•™ë…„ë„ ì´ìˆ˜ì—¬ë¶€','25í•™ë…„ë„ ì´ìˆ˜ì—¬ë¶€'];var csvData=[headers.join(',')];for(var i=0;i<teachers.length;i++){var teacher=teachers[i];var row=[teacher.id,teacher.name,teacher.status24||'',teacher.status25||''];csvData.push(row.join(','))}var csvContent=csvData.join('\n');var blob=new Blob([csvContent],{type:'text/csv;charset=utf-8;'});var link=document.createElement('a');link.href=URL.createObjectURL(blob);link.download='ì—°ìˆ˜í˜„í™©ì¡°ì‚¬.csv';link.click()}
        
        document.addEventListener('DOMContentLoaded',function(){setupEventListeners();renderTable();updateStats()});
    </script>
</body>
</html>
